# 2장. 이상한 나라의 객체

### 상태

- 인간은 행동의 과정과 결과를 단순히 기술 하기위해 `상태` 라는 개념을 고안했다.

→ 비행기 탑승 가능 여부는 항공권의 발권 상태를 보고 예측할 수 있다. 

- 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고 행동의 결과를 쉽게 예측하고 설명할 수 있다.

### 링크

- 객체와 객체 사이의 의미 있는 연결.
- 링크가 존재해야만 객체와 사이에 요청을 보내고 받을수 있다.

### 행동

- 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다.
- 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 개체에세 메시지를 전달한 수 있다.
    
    

### 행동 과 상태

- 객체는 자율적인 존재로, 스스로 자신의 상태를 책임여야 한다.
- 객체의 상태는 저절로 변경되지 않고 자발적인 행동만이 상태를 변경할수있다.
    - 객체의 행동은 상태에 영향을 받는다
    - 객체의 행동은 상태를 변경시킨다.

> Example)
> - 앨리스의 키가  40 Cm 이하라면 문을 통과할수 있다.
> - 문을 통과한후 앨리스의 위치는 정원으로 바뀌어야 한다.  

- 객체의 행동으로 인해 발생하는 결과는 두 가지 관점에 서 설명할수 있고, 이 두 가지 관점의 부수효과를 명확하게 서술 해야 한다.
1. 객체 자신의 상태 변경 
2. 행동 내에서 협력하는 다른 객체에 대한 메시지 전송 

### 상태 캡슐화

- 객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 않고, 메시지 송신자는 메시지 수신자의 상태 변경에 대해서는 전혀 알지 못한다.

→ 엘리스가 음료수를 마시면, 엘리스는 음료를 마시다 라는 메소드를 호출 하고, 얼마나 마셨는지 메시지를 음료 객체에 보낸다. 그 메시지를 받은 음료 객체는 자신의 상태를 바꾼다. 

→ 내가 만약 이 관계를 설계 했더라면, 엘리스라는 객체에서 음료수 객체의 상태를 직접 건드렸을것같은데, 객체는 자신의 상태만을 변경할수 있으므로, “모든 객체는 자신의 상태를 스스로 관리하는 자율적인 존재다" 라는  말을 거스르게 된다. 

- 자신의 상태를 캡슐화하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연 하게 만든다.

### 행동이 상태를 결정한다.

- 상태(프로퍼티) 를 먼저 결정하고 행동(메소드) 을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.
    1. 상태를 먼저 결정할 경우 캡슐화가 저해된다. 
    2. 객체를 협력자가 아닌 고립된 섬으로 만든다. 
    3. 객체의 재사용성이 저하된다. 
- 행동을 결정한 우에야 행동에 필요한 정보가 무엇인지를 고려하게 되며, 이 과정에서 필요한 상태가 결정된다.
- 책임 주도 설계 (Responsibilty Driven Design - RDD) 를 하라.

### 객체지향은 현실 세계의 단순한 모방이 아니다.

- 현실세계에서 수동적인 존재가 소프트웨어 객체로 구현될 때는 능동적으로 변하고, 현실의 객체보다 더 많은 일을 할 수있는 소프트웨어 객체의 특징을 의인화(anthoropomorphism) 이라 부른다.
- 현실의 모습을 조금 참조할 뿐 궁극적인 목적은 현실과 전혀 다른 새로운 세계를 창조하는 것이다.

### 은유

- 소프트웨어 객체에 대한 현실 객체의 은유를 효과적으로 사용할 경우 표현적 차이(representational gap) 를 줄일수 있고, 이런 이유로 현실 세계의 도메인에서 사용되는 이름을 객체에게 부여하라는 가이드를 한다.
